import{n as L,a as b}from"../vendor_emotion-CZWcTM8j.js";import{s as T,e as U}from"../core-B_o7srNM.js";import{a2 as w}from"../features-tA-DxrQa.js";import{r as n,k as $,w as W}from"../vendor_react-Bz04f6Pj.js";import{S as j}from"./components/screens/BasicKycReminder-BHN2vZ4g.js";import{S as E}from"./components/screens/CompleteKycReminder-ims0U3Kg.js";import{S as z}from"./components/screens/RegistrationSuccessful-D7XaoMgM.js";import{S as J}from"./components/screens/CompleteVerifyForm-BKCy9rYC.js";import{S as Y}from"./components/screens/BasicVerifyForm-BgnEUqHe.js";import{S as q}from"./components/screens/SubmitSuccessfully-m1vEQLFW.js";import{S as _}from"./components/screens/BaseScreen-Bl68sDI-.js";import{S as H}from"./components/screens/OcrProcess-CPK9gIk3.js";import{S as Q}from"./components/screens/KycApproved-C9ckly5U.js";import{B as C}from"./components/steps/BasicVerifyFormSteps-CNszrNMj.js";import{S as e,a as t,G as p,O as X}from"../enum-Cky0aGNf.js";import{C as k}from"./components/steps/CompleteVerifyFormSteps-DWTE7fLN.js";import{R as Z}from"./components/steps/ReminderWithCountDown-B7nVjAGw.js";import{V as A}from"./components/steps/VerifyProcessGuide-DJ13doI9.js";import{O as G}from"./components/steps/OcrProcessFormSteps-3Mon83Ut.js";const ee={[e.RegistrationSuccessful]:{layout:z},[e.BasicKycReminder]:{layout:j},[e.BasicVerifyForm]:{layout:Y},[e.CompleteKycReminder]:{layout:E},[e.CompleteVerifyForm]:{layout:J},[e.SubmitSuccessfully]:{layout:q},[e.None]:{layout:_},[e.KycOcrProcess]:{layout:H},[e.KycOcrReminderWithCountDown]:{layout:_},[e.KycApproved]:{layout:Q}},te={steps:[{title:"Complete Information",name:t.CompleteVerifyForm,component:k,screenName:e.CompleteVerifyForm}]};function ne(){const s=w(),c=s.commonCondition.isManualOpen,S=n.useMemo(()=>s.commonCondition.isKycApproved?{title:"KYC Already Approved",name:t.KycApproved,screenName:e.KycApproved}:{title:"Reminder",name:t.KycOcrReminderWithCountDown,screenName:e.KycOcrReminderWithCountDown,component:Z},[s.commonCondition.isKycApproved]),f=n.useMemo(()=>s.commonVariable.kycStatus==="draft"?[]:s.commonVariable.kycStatus==="unset"?[{title:"Verify Process Guide",name:t.KycOcrVerifyProcessGuide,screenName:e.KycOcrProcess,component:A},{title:"Select ID Type",name:t.KycOcrSelectIdType,screenName:e.KycOcrProcess,component:G}]:s.commonVariable.kycOcrStatus===X.None?[{title:"Verify Process Guide",name:t.KycOcrVerifyProcessGuide,screenName:e.KycOcrProcess,component:A},{title:"Select ID Type",name:t.KycOcrSelectIdType,screenName:e.KycOcrProcess,component:G}]:[],[s]);return{[p.KycVerificationFullWithOcr]:{steps:[S,...f,{title:"Information Confirm",name:t.KycOrcInformationConfrim,screenName:e.KycOcrProcess,component:G},{title:"Submit Successfully",name:t.KycOcrSubmitSuccessfully,screenName:e.SubmitSuccessfully}].filter(Boolean)},[p.JustAfterRegistration]:{steps:[c?null:{title:"Registration Successful",name:t.RegistrationSuccessful,screenName:e.RegistrationSuccessful},{title:"Select ID Type",name:t.BasicVerifyFormSelectIdType,component:C,screenName:e.BasicVerifyForm},{title:"Fill in basic information",name:t.BasicVerifyFormFillInBasicInformation,component:C,screenName:e.BasicVerifyForm},{title:"Upload ID Photo",name:t.BasicVerifyFormUploadIdPhoto,component:C,screenName:e.BasicVerifyForm},{title:"Submit Successfully",name:t.SubmitSuccessfully,component:()=>b("h1",{children:"Submit Successfully"}),screenName:e.SubmitSuccessfully}].filter(Boolean)},[p.KycVerificationBasic]:{steps:[{title:"Select ID Type",name:t.BasicVerifyFormSelectIdType,component:C,screenName:e.BasicVerifyForm},{title:"Fill in basic information",name:t.BasicVerifyFormFillInBasicInformation,component:C,screenName:e.BasicVerifyForm},{title:"Upload ID Photo",name:t.BasicVerifyFormUploadIdPhoto,component:C,screenName:e.BasicVerifyForm},{title:"Submit Successfully",name:t.SubmitSuccessfully,component:()=>b("h1",{children:"Submit Successfully"}),screenName:e.SubmitSuccessfully}]},[p.KycVerificationFull]:{steps:[c?null:{name:t.CompleteKycReminder,screenName:e.CompleteKycReminder},{title:"Complete Information",name:t.CompleteVerifyForm,component:k,screenName:e.CompleteVerifyForm},{title:"Submit Successfully",name:t.SubmitSuccessfully,component:()=>b("h1",{children:"Submit Successfully"}),screenName:e.SubmitSuccessfully}].filter(Boolean)},[p.KycVerificationRejected]:{steps:[{title:"Rejected",name:t.SubmitSuccessfully,component:()=>b("h1",{children:"Submit Successfully"}),screenName:e.None}]},[p.Member]:{steps:[{title:"Complete Information",name:t.CompleteVerifyForm,component:k,screenName:e.CompleteVerifyForm},{title:"Submit Successfully",name:t.SubmitSuccessfully,component:()=>b("h1",{children:"Submit Successfully"}),screenName:e.SubmitSuccessfully}]},[p.Guest]:{steps:[{title:"Guest...",name:t.SubmitSuccessfully,component:()=>b("h1",{children:"Guest..."}),screenName:e.None}]}}}function oe(){var N;const[s]=T(),c=w(),S=c.enum,f=c.name,I=c.commonCondition,V=c.commonCondition.isLoggedIn?p.Member:p.Guest,h=$(),B=n.useMemo(()=>!!s.get("sub_page"),[s]),m=n.useMemo(()=>{var a;return((a=h.state)==null?void 0:a.stepIndex)??0},[(N=h.state)==null?void 0:N.stepIndex]),x=ne(),u=n.useMemo(()=>{const a=x[S];return{name:a?f:p[V],enum:a?S:V,config:a??te}},[V,x,S,f]),l=n.useMemo(()=>({name:u.name,enum:u.enum}),[u.enum,u.name]),r=n.useMemo(()=>u.config.steps,[u.config.steps]),o=n.useMemo(()=>(r==null?void 0:r[m])??(r==null?void 0:r[0]),[r,m]),F=n.useMemo(()=>({name:t[o.name],enum:o.name}),[o.name]),K=n.useMemo(()=>({name:e[o.screenName],enum:o.screenName}),[o.screenName]),d=n.useMemo(()=>r.filter(a=>a.screenName===o.screenName),[r,o.screenName]),y=n.useMemo(()=>{const a=r.findIndex(O=>O.screenName===o.screenName);return m-a},[r,o.screenName,m]),v=n.useMemo(()=>ee[o.screenName],[o.screenName]),P=n.useMemo(()=>m===0,[m]),i=n.useMemo(()=>m===r.length-1,[r.length,m]),M=n.useMemo(()=>y===0,[y]),R=n.useMemo(()=>y===d.length-1,[y,d.length]);return{commonCondition:I,currentStageName:l,currentStage:u,currentStepName:F,currentStep:o,currentScreenName:K,currentScreen:v,currentScreenStepIndex:y,currentStageSteps:r,currentScreenSteps:d,currentStepIndex:m,condition:{isScreenFirstStep:M,isScreenLastStep:R,isFirstStep:P,isLastStep:i,isSubPageMode:B},commonVariable:c.commonVariable}}function re(){const[s,c]=T(),S=oe(),{commonCondition:f,currentStageName:I,currentStage:V,currentStepName:h,currentStep:B,currentScreenName:m,currentScreen:x,currentScreenStepIndex:u,currentStageSteps:l,currentScreenSteps:r,currentStepIndex:o,condition:{isFirstStep:F,isLastStep:K,isScreenFirstStep:d,isScreenLastStep:y,isSubPageMode:v},commonVariable:P}=S,i=n.useCallback(g=>{c({},{state:{stepIndex:g.stepIndex}})},[c]),M=n.useCallback(()=>{if(K)return;const g=(o+1)%l.length;i({stepIndex:g})},[l.length,K,o,i]),R=n.useCallback(()=>{y||M()},[y,M]),N=n.useCallback(()=>{if(F)return;const g=(o-1+l.length)%l.length;i({stepIndex:g})},[l.length,F,o,i]),a=n.useCallback(()=>{d||N()},[d,N]),O=n.useCallback(()=>{i({stepIndex:0})},[i]),D=n.useCallback(()=>{i({stepIndex:l.length-1})},[l.length,i]);return{commonCondition:f,commonVariable:P,currentStageName:I,currentStage:V,currentStepName:h,currentStep:B,currentStageSteps:l,currentScreenSteps:r,currentScreenName:m,currentScreen:x,currentScreenStepIndex:u,moveTo:i,moveNext:M,moveNextScreenStep:R,movePrev:N,movePrevScreenStep:a,moveFirst:O,moveLast:D,isFirstStep:F,isLastStep:K,isScreenFirstStep:d,isScreenLastStep:y,isSubPageMode:v,__debugInfo:{currentStageName:I,currentStepName:h,currentScreenName:m,currentScreenStepIndex:u,commonCondition:f,commonVariable:P}}}const se=L.pre`
  position: fixed;
  left: 0;
  bottom: 0;
  word-wrap: normal;
  font-family: monospace;
  font-size: 8rem;
  pointer-events: none;
  z-index: 1000;
  background: rgba(255, 255, 255, 0.6);
  opacity: 0.8;
  display: none;
  &[data-is-dev='true'] {
    display: flex;
  }
`;function Ke(s){const{children:c,...S}=s,f=re();return W.createPortal(b(se,{...S,"data-is-dev":U.isDevMode,children:JSON.stringify(f.__debugInfo,null,2)}),document.body)}export{Ke as G,re as u};
