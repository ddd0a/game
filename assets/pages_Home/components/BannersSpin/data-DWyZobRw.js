import{y as p}from"../../../features-tA-DxrQa.js";import{l as f}from"../../../vendor_lodash-CD85c6SO.js";import{a as s,o as w,n as h,r as k}from"../../../vendor_react-Bz04f6Pj.js";import{D as C,a as y,b as B}from"./source-BuwKH9_t.js";const d="data-key-background",A=s("string",async(t,o,a)=>{o(A,a)}),v=[{url:C,link:"https://www.google.com",backgroundColor:""},{url:y,link:"https://www.google.com",backgroundColor:""},{url:B,link:"https://www.google.com",backgroundColor:""}],x=w(s(async t=>{var e,r;const a=((r=(e=t(p).data)==null?void 0:e.imageCarousel)==null?void 0:r.home_carousel)??v;return(await Promise.allSettled(a.map(async(n,g)=>{if(n.backgroundColor)return{...n,backgroundColor:n.backgroundColor};const l=new Image;return l.src=n.url,l.setAttribute(d,`tmp-banner-img-${g}`),await new Promise(b=>{l.onload=b}),{imgUrl:n.url,backgroundColor:I(l)}})??[])).map(n=>{if(n.status==="fulfilled")return n.value}).filter(Boolean)}),t=>t??[]),D=s(0);s(null,(t,o,a)=>{const c=t(x).length,e=a,r=e>=0?e:c+e;o(D,r)});s();function m(t){const o=document.createElement("canvas"),a=o.getContext("2d");o.width=t.width,o.height=t.height,a.drawImage(t,0,0);const u=a.getImageData(t.width/2,t.height-1,1,1).data,[c,e,r,n]=u;return`rgba(${c}, ${e}, ${r}, ${n/255})`}const i={};function I(t){const o=t.getAttribute(d);return i[o]||(i[o]=f.throttle(m.bind(m,t))),i[o]()}function P(){const t=h("/games/:category");return k.useMemo(()=>!(t!=null&&t.params.category),[t==null?void 0:t.params.category])}export{D as a,x as b,P as u};
