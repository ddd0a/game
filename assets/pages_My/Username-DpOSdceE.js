import{j as u,a,F as y}from"../vendor_emotion-nEVkPYdj.js";import{F}from"../api_interface-Cuputjbr.js";import{c as g,F as S,d as U,I as B,b as E}from"../components-DVpIsGwS.js";import{u as P,t as j}from"../core-z1JMQ5Ff.js";import{u as k,F as C,D as I}from"../features-CK6znDLX.js";import{d as L,r as M,C as D}from"../vendor_react-DLFB9-kf.js";const V=()=>{var n;const{reset:o,handleSubmit:i,control:m,formState:{isSubmitted:l,isDirty:c,isValid:d}}=L(),[f,b]=P(F),p=k(),h=async e=>{(await f(e)).success&&(j("Username set successfully",{level:"success"}),I({username:e.username,usernameEditable:!0}),p())},t=C();return M.useEffect(()=>{var e,s;(e=t.data)!=null&&e.username&&o({username:(s=t.data)==null?void 0:s.username})},[(n=t.data)==null?void 0:n.username,o]),u(y,{children:[a(g,{}),u(S,{title:"set your username",subTitle:"Please note that you can only change your username once a month",onSubmit:i(h),children:[a(D,{control:m,name:"username",rules:{required:"xxxxxx"},render:({field:{value:e,onChange:s,onBlur:x},fieldState:{error:r}})=>a(U,{errorMsg:r==null?void 0:r.message,children:a(B,{autoFocus:!0,placeholder:"Please Enter the Username You Wish to Modify",clearable:!0,value:e,onChange:s,onBlur:x})})}),a(E,{size:"large",type:"submit",loading:b,disabled:l?!d:!c,children:"Submit"})]})]})};export{V as U};
