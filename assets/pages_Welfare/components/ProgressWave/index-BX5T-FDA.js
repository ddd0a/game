import{a as e,j as p}from"../../../vendor_emotion-nEVkPYdj.js";import{r}from"../../../vendor_react-DLFB9-kf.js";import{P as F,W as G,a as h,b as T,T as H,B as N,C as O}from"./style-CuMdws94.js";import{l as q,a as z}from"../../data-eAyCAp_J.js";import{l as A}from"../../../vendor_lodash-CD85c6SO.js";import{n as J}from"../../../core-z1JMQ5Ff.js";const K=({value:s,duration:l=800,waveSpeed:C=1.5,onClick:u,initialDelay:f=800,disabled:m=!1,direction:g="rtl",className:x,style:_,infoStyle:t={bg_color:"linear-gradient(180deg, #ffdecf 0%, #feb091 100%)",progress_color:"red",border_color:"red"},targetTimestamp:b=Date.now()+36e5,isShowTime:v=!0,...I})=>{const{t:W}=J(q),[w,P]=r.useState(0),[i,k]=r.useState(!1),[d,B]=r.useState(!0),n=r.useRef(null),c=r.useRef(null),a=r.useRef(null),[E,L]=r.useState(b-Date.now()),{text:R=W("Get")}=I;r.useEffect(()=>(a.current&&clearTimeout(a.current),a.current=setTimeout(()=>{k(!0)},f),()=>{a.current&&clearTimeout(a.current)}),[f]),r.useEffect(()=>(i&&s&&(c.current=setInterval(()=>{P(o=>g==="ltr"?Math.min(o+s/(l/16),s):Math.max(o-s/(l/16),s))},16),setTimeout(()=>{c.current&&clearInterval(c.current)},l)),()=>{c.current&&clearInterval(c.current)}),[i,s,l,g]);const S=()=>{i&&!m&&(B(!d),u&&u())},j=A.throttle(S,2e3);r.useEffect(()=>(n.current=setInterval(()=>{L(o=>o<=1e3&&n.current?(clearInterval(n.current),0):o-1e3)},1e3),()=>{n.current&&clearInterval(n.current)}),[b]);const M=z(E),$=({hours:o,minutes:V,seconds:D})=>`${String(o).padStart(2,"0")}:${String(V).padStart(2,"0")}:${String(D).padStart(2,"0")}`;return e(O,{isVisible:i,className:x,style:_,borderColor:t.border_color,backgroundColor:t.bg_color,children:p(N,{onClick:j,disabled:m,children:[e(F,{progress:w,progressColor:t.progress_color,children:e(G,{waveSpeed:C,children:p("div",{className:"wave-box",children:[e(h,{bgColor:t.bg_color}),e(T,{bgColor:t.bg_color}),e(h,{bgColor:t.bg_color}),e(T,{bgColor:t.bg_color})]})})}),e(H,{children:!d&&v?$(M):R})]})})},rr=r.memo(K);export{rr as P};
